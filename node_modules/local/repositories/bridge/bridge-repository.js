'use strict';

var Bridge = require('./bridge');
var baseRepository = require('../base');

var base = baseRepository({
	path: 'bridges',
	makeLocal: function (id, data) {
		return new Bridge(id, data);
	},
	makeRemote: function (tit) {
		var bridgeJson = {
			homeSystem: tit.homeSystemId,
			bridgeType: tit.bridgeType,
			name: tit.name,
			lastModified: new Date().getTime(),
		}
		return bridgeJson;
	}
});

var me = {
	getBridge: base.get,
	getBridges: base.getAll,
	getBridgesArray: base.getArray,
	createBridge: base.create,
	updateBridge: base.update,
	deleteBridge: base.delete,
	bridgesChanged: base.changed,
	bridgesChangedRemoveHandler: base.changedRemoveHandler,
	initialize: base.initialize
};

module.exports = me;
